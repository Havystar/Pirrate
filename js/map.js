var map1 = [
    /*
    0 - brzeg
    1 - środek wyspy
    2 - brzeg zakręt
    3 - woda
    */
    
    [1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1,],
    [1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 4, 1, 1, 1, 1, 1,],
    [1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 4, 1,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 0, 4, 0, 4, 1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 4, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3,],
    [1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 0, 1, 1, 4, 2, 3, 3,],
    [1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 4, 1, 1, 0, 3, 2, 0, 4, 1, 1, 1, 4, 2, 3,],
    [1, 1, 0, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 4, 0, 4, 1, 1, 1, 1, 1, 1, 4, 0,],
    [1, 1, 4, 0, 0, 0, 4, 1, 1, 0, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 0, 0, 0, 0, 0, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,]
        
    
];
var map2 = [
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 4, 0, 0, 4, 1, 4, 0, 0, 0, 4, 1, 1, 1, 1, 1, 1, 1, 4, 0, 0, 0, 0, 0, 4, 1, 1, 1, 1,],
    [1, 1, 1, 0, 3, 3, 2, 0, 2, 3, 3, 3, 2, 0, 0, 4, 1, 1, 4, 0, 2, 3, 3, 3, 3, 3, 2, 0, 0, 0, 0,],
    [1, 1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 1, 0, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 4, 2, 3, 3, 3, 3, 2, 4, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 2, 3, 3,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 4, 0, 0,],
    [1, 1, 1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 2, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1,],
    [1, 1, 1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 2, 3, 3, 3, 3, 3, 2, 0, 4, 1, 1,],
    [1, 1, 1, 1, 1, 0, 3, 3, 2, 2, 3, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0,],
    [1, 1, 1, 1, 4, 2, 3, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,],
    [1, 1, 1, 1, 0, 3, 3, 3, 0, 4, 0, 4, 0, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 0, 2, 3, 3, 3, 3,],
    [1, 1, 4, 0, 2, 3, 3, 3, 0, 1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 4, 2, 3, 3, 2, 0,],
    [1, 1, 0, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 1, 1, 0, 3, 3, 3, 0, 1,],
    [1, 1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 1, 1, 4, 0, 0, 0, 4, 1,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1,]
    
    
    
];
var map3 = [
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [1, 1, 4, 2, 3, 3, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [1, 4, 2, 3, 3, 3, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2, 4, 1,],
    [0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 0, 3, 3, 3, 3, 3, 3, 0, 1, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 3, 3, 0, 1, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 1,],
    [3, 3, 3, 3, 3, 2, 0, 0, 0, 0, 4, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1,],
    [3, 3, 3, 3, 3, 2, 0, 0, 4, 1, 1, 4, 2, 3, 3, 3, 2, 0, 2, 3, 3, 3, 3, 3, 3, 2, 0, 4, 1, 1, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 2, 3, 3, 3, 3, 0, 1, 0, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 2, 3, 3, 3, 2, 0, 0, 4, 1, 1, 1, 1, 1,],
    [3, 3, 3, 2, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1,],
    [3, 3, 3, 0, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 1,],
    [3, 3, 3, 2, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 4, 1, 1, 1, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1,],
    [0, 0, 2, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 0, 3, 2, 2, 3, 3, 3, 3, 2, 0, 4, 1, 1, 1, 1,],
    [1, 1, 4, 0, 0, 0, 0, 0, 0, 4, 1, 1, 1, 1, 1, 1, 4, 0, 4, 4, 0, 2, 3, 3, 0, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 0, 0, 4, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,]
];

var map4 = [
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 1, 1, 1, 4, 0, 0, 0, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1,],
    [0, 0, 0, 0, 2, 3, 3, 3, 2, 0, 4, 1, 1, 1, 1, 1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 1, 1, 1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 4, 1, 1, 4, 2, 3, 3, 3, 2, 2, 3, 3, 3, 3, 2, 4, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 0, 3, 3, 3, 3, 0, 4, 0, 0, 0, 0, 4, 1, 1,],
    [0, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 0, 3, 3, 3, 2, 4, 1, 1, 1, 1, 1, 1, 1, 1,],
    [1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 0, 3, 3, 3, 0, 1, 1, 1, 4, 0, 0, 0, 4, 1,],
    [1, 4, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1, 0, 3, 3, 3, 2, 0, 0, 0, 2, 3, 3, 3, 0, 1,],
    [0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 4, 1,],
    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 4, 4, 0, 0, 0, 0, 0, 2, 3, 3, 3, 0, 1, 1, 1,],
    [3, 3, 3, 2, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 2, 4, 1, 1,],
    [0, 0, 0, 4, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 1,],
    [1, 1, 1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 4, 1,],
    [1, 1, 1, 4, 0, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    [1, 1, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1,],
    
];
function Map(_table){
    this.table = _table;
    this.draw = function(){
        for(let i = 0; i < 20; i++){
            for(let o = 0; o < 40; o++){
                ctx.drawImage(water, o*frame, i*frame, frame,frame);
        } 
    }
        //-------------------------------------------------------------rysuje wode
        for(let i = 0; i < this.table.length; i++){
            for(let o = 0; o < this.table[i].length; o++){
                ctx.save();
                ctx.translate( o * frame, i * frame);
                if(this.table[i][o - 1] == 3 && this.table[i][o] == 0) ctx.rotate(-90 * Math.PI / 180); //jeżeli woda jest po lewej obraca o -90st. DZIAŁA
                //LEWA
                else if(this.table[i][o + 1] == 3 && this.table[i][o] == 0) ctx.rotate(90 * Math.PI / 180); //jeżeli woda jest po prawej obraca o 90st. DZIAŁA
                //PRAWA
                else if(this.table.length > i+1){
                    if(this.table[i + 1][o] == 3 && this.table[i][o] == 0) ctx.rotate(180 * Math.PI / 180); // jeżeli woda jest na dole obraca o 180st. DZIAŁA
                    //DÓŁ
                    if(this.table[i + 1][o] == 3 && this.table[i][o - 1] == 3 && this.table[i][o] == 2) ctx.rotate(180 * Math.PI / 180); 
                    //DÓŁ LEWA
                    if(this.table[i + 1][o] == 3 && this.table[i][o + 1] == 3 && this.table[i][o] == 2) ctx.rotate(90 * Math.PI / 180); 
                    //DÓŁ PRAWA
                }
               if(i - 1 >= 0){
                    if(this.table[i][o - 1] == 3 && this.table[i - 1][o] == 3 && this.table[i][o] == 2) ctx.rotate(-90 * Math.PI / 180);
                    //GÓRA LEWA
                   
                }
                if(this.table[i][o] == 4){
                    if(this.table[i][o-1] == 0 && this.table[i][o+1] == 0) ctx.rotate(180 * Math.PI / 180);
                    if(this.table[i-1][o] == 2 && this.table[i+1][o] == 0) ctx.rotate(180 * Math.PI / 180);
                    if(this.table[i+1][o] == 2 && this.table[i][o+1] == 2) ctx.rotate(-90 * Math.PI / 180);
                    if(this.table[i+1][o] == 4 && this.table[i][o+1] == 0) ctx.rotate(-90 * Math.PI / 180);
                    if(this.table[i][o-1] == 2 && this.table[i+1][o] == 4) ctx.rotate(90 * Math.PI / 180);
                    if(this.table[i][o+1] == 2 && this.table[i-1][o] == 0 && this.table[i+1][o] == 0) ctx.rotate(-90 * Math.PI / 180);
                    if(this.table[i][o+1] == 2 && this.table[i+1][o] == 2 && this.table[i-1][o] == 1) ctx.rotate(90 * Math.PI / 180);
                    if(this.table[i][o-1] == 0 && this.table[i-1][o] == 2 && this.table[i][o+1] == 4) ctx.rotate(90 * Math.PI /180); 
                    if(this.table[i][o+1] == 0 && this.table[i-1][o] == 2 && this.table[i][o-1] == 4) ctx.rotate(180 * Math.PI /180); 
                    if(this.table[i][o-1] == 4 && this.table[i][o+1] == 0 && this.table[i-1][o] == 0) ctx.rotate(180 * Math.PI / 180)
                    //szczególne przypadki
                    
                    
                    if(this.table[i][o-1] == 1 && this.table[i+1][o] == 1) ctx.rotate(180 * Math.PI / 180);
                    //z góry w prawo
                    if(this.table[i-1][o] == 1 && this.table[i][o-1] == 1) ctx.rotate(-90 * Math.PI / 180);
                    //z góry w lewo
                    if(this.table[i+1][o] == 1 && this.table[i][o+1] == 1) ctx.rotate(90 * Math.PI / 180);
                    //z lewej w górę
                    
                    
                }
                ctx.drawImage(Map.island, this.table[i][o]*100, 0, 100, 100, -32*px, -32*px, 64 *px, 64*px);
                //-----------------------------------------------------rysuje wyspy
                ctx.restore();
                
                if(this.table[i][o] < 3){
                    if(Math.abs(o*frame - Ship.prototype.list[0].x) < 30*px && Math.abs(i*frame - Ship.prototype.list[0].y) < 30*px){
                    Ship.prototype.list[0].targetX = Ship.prototype.list[0].x;
                    Ship.prototype.list[0].targetY = Ship.prototype.list[0].y;
                    
                }
                }
                
            }
        }
    
    }
}

var map1 = new Map(map1);
var map2 = new Map(map2);
var map3 = new Map(map3);
var map4 = new Map(map4);